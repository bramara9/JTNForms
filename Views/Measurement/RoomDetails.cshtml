@model List<RoomDetails>

@{
    var cId = ViewBag.CutomerId;
    var BlindTypes = ViewBag.BlindTypes;
}

<div><b>User name : @ViewBag.userName </b></div>
<form id="frm" asp-controller="Measurement">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

    <table id="MultiAddUserTable" class="table">
        <tr>
            <th>Room Name</th>
            <th>Fabric code</th>
            <th>Base price</th>
            <th>Blind type</th>
        </tr>
        @if (Model != null)
        {
            @for (int i = 0; i < Model.Count(); i++)
            {

                <tr>
                    <input type="hidden" class="form-control" id="hdnRoomId" asp-for="@Model[i].Id">

                    <td>
                        <label class="form-check-label" asp-for="@Model[i].RoomName">@Model[i].RoomName</label>
                        <input type="hidden" class="form-control" id="hdnRoomName" asp-for="@Model[i].RoomName">
                    </td>
                    <td>
                        <input id="Text2" type="text" asp-for="@Model[i].Fabric" class="form-control rounded" />
                        <br /><span asp-validation-for="@Model[i].Fabric" class="text-danger"></span>
                    </td>
                    <td>
                        <input id="Text3" type="text" asp-for="@Model[i].BasePrice" class="form-control rounded" />
                        <br /> <span asp-validation-for="@Model[i].BasePrice" class="text-danger"></span>
                    </td>
                    <td>
                        <select asp-for="@Model[i].BlindType" class="form-select">
                            <option value="">Select BlindType</option>
                            @foreach (var typed in @BlindTypes)
                            {
                                var seltedVal = (@typed.Value.Trim() == @Model[i].BlindType?.Trim()) ? true : false;
                                <option value="@typed.Value" selected="@seltedVal">@typed.Text</option>
                            }
                        </select>
                        <br /><span asp-validation-for="@Model[i].BlindType" class="text-danger"></span>

                    </td>

                </tr>
            }
        }
    </table>

    <div class="form-group">
        <input id="btnSaveRoom" type="submit" class="btn btn-primary" value="Next" asp-action="SaveRoomDetails" asp-route-customerId=@cId />
    </div>
</form>